%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../cheat-sheet"
%%% End:

\subsubsection*{Intro}
\begin{itemize}
\item What does a program use during its lifetime?
  \begin{itemize}
  \item Hint: what does a program need to execute?
  \end{itemize}
\end{itemize}

\paragraph{Answer}
See previous answer.

\subsubsection*{System calls}

\emph{What is a system call?}
\paragraph{Answer}
\begin{itemize}
\item Programming interface to the sercices proided by the OS.
  \begin{itemize}
  \item Processes $\rightarrow$ the operating system
  \end{itemize}
\item Mostly accessed by programs via a higlh-level Application Program Interface (API) rather than direct system call use.
\item Three most common APIs are Win32 API for windows, POISX API for POISX API for POISX-Based systems (including virtually all versions of UNIX, Linux, and Mac OS X), and Java API for the Java virtual machine (JVM).
\end{itemize}

\emph{How Are system calls implemented?}
\begin{itemize}
\item What are the steps in executing a system call?
\item How are parameters to system calls passed to the operating system?
\item Does the type and organization of the operating system matter? (If you have an OS without distinction between kernel/user-mode, you don't perform context switches for example)
\item Draw a figure to help you.
\end{itemize}

\paragraph{Answer}
What are the steps in executing a system call?

\begin{enumerate}
  \item Set registers to system call arguments and store the system call ID in the (\texttt{EAX}) register
  \item Execute interrupt
  \item Perform context switch and enter kernel-mode
  \item Look-up system call and execute
  \item Return result of sys-call (probably save in a relevant register)
  \item Context switch back to user mode
  \item Continue original execution
\end{enumerate}

\begin{itemize}
  \item Typically, a number associated with each system call.
  \item The system call interface invokes intended system call in OS kernel and returns status of the system call and any return values.
  The caller need know nothing about how the system call is implemented.
  \begin{itemize}
    \item Just needs to obey API and understand what the OS will do
  \end{itemize}
\end{itemize}
